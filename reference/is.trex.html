<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Testing and preparing input data — is.trex • TREX</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Testing and preparing input data — is.trex"><meta property="og:description" content='Tests if the structure of the input matches the requirements of TREX functions
 and specifies the time zone. The input has to be presented in one of two different data.frame formats.
 i) Timestamp format: including a 1) timestamp of the measurements column (character), and
 2) value of \(\Delta V\) (or \(\Delta T\); [as.numeric]). ii) DOY format: including a 1) year of measurements column as.integer,
 2) day of the year (DOY) of measurement (as.integer), 3) hour of the measurement (character), and
 4) value of \(\Delta V\) (or \(\Delta T\); [as.numeric]). TREX functions are applied on time series obtained from a set of
 thermal dissipation probes. This includes the option where the thermal dissipation method (TDM) is
 used with only a reference and heating probe, or when including addition reference probes (see ref.add).
 These reference probe measurements can be added to the DOY or timestamp format in \(\Delta V\) (or \(\Delta T\)) (as.numeric)
 labelled ref1, ref2, etc. (depending on the number of reference probes). For this function the following
 column names have to be present within the data.frame: "timestamp" or "year" &amp;amp; "doy" &amp;amp; "hour" = indicators
 of time and "value" = TDM measurements (option "ref1", "ref2, ..., refn = reference probes).
 After specifying the time zone (tz), one can select whether to standardize the temporal series to solar
 time (see solar.time) by providing the longitude in decimal degrees at which the measurements were
 obtained (in long.deg). All timestamps within the function are rounded to minute resolution and output can
 be either provided in a zoo format (df = FALSE) or data.frame (df = TRUE; default is FALSE).
 Note, that the output time series is always given in UTC time zone.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TREX</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/the-Hull/TREX/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Testing and preparing input data</h1>
    <small class="dont-index">Source: <a href="https://github.com/the-Hull/TREX/blob/HEAD/R/is.trex.R" class="external-link"><code>R/is.trex.R</code></a></small>
    <div class="hidden name"><code>is.trex.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Tests if the structure of the input matches the requirements of <code>TREX</code> functions
 and specifies the time zone. The input has to be presented in one of two different <code>data.frame</code> formats.
 i) Timestamp format: including a 1) timestamp of the measurements column (<code>character</code>), and
 2) value of \(\Delta V\) (or \(\Delta T\); [<code>as.numeric</code>]). ii) DOY format: including a 1) year of measurements column <code>as.integer</code>,
 2) day of the year (DOY) of measurement (<code>as.integer</code>), 3) hour of the measurement (<code>character</code>), and
 4) value of \(\Delta V\) (or \(\Delta T\); [<code>as.numeric</code>]). TREX functions are applied on time series obtained from a set of
 thermal dissipation probes. This includes the option where the thermal dissipation method (TDM) is
 used with only a reference and heating probe, or when including addition reference probes (see <code>ref.add</code>).
 These reference probe measurements can be added to the DOY or timestamp format in \(\Delta V\) (or \(\Delta T\)) (<code>as.numeric</code>)
 labelled <code>ref1</code>, <code>ref2</code>, etc. (depending on the number of reference probes). For this function the following
 column names have to be present within the <code>data.frame</code>: "timestamp" or "year" &amp; "doy" &amp; "hour" = indicators
 of time and "value" = TDM measurements (option "ref1", "ref2, ..., refn = reference probes).
 After specifying the time zone (<code>tz</code>), one can select whether to standardize the temporal series to solar
 time (see <code>solar.time</code>) by providing the longitude in decimal degrees at which the measurements were
 obtained (in <code>long.deg</code>). All timestamps within the function are rounded to minute resolution and output can
 be either provided in a <code>zoo</code> format (df = <code>FALSE</code>) or <code>data.frame</code> (<code>df = TRUE</code>; default is <code>FALSE</code>).
 <strong>Note, that the output time series is always given in <code>UTC</code> time zone.</strong></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">is.trex</span><span class="op">(</span><span class="va">data</span>, tz <span class="op">=</span> <span class="st">'UTC'</span>, tz.force <span class="op">=</span> <span class="cn">FALSE</span>, time.format <span class="op">=</span> <span class="st">'%m/%d/%y %H:%M:%S'</span>,</span>
<span>  solar.time <span class="op">=</span> <span class="cn">TRUE</span>, long.deg <span class="op">=</span> <span class="fl">7.7459</span>,</span>
<span>   ref.add <span class="op">=</span> <span class="cn">FALSE</span>, df <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>A <code>data.frame</code> in either timestamp format or doy format.</p></dd>


<dt>tz</dt>
<dd><p>Character string, indicates the time zone in which the measurements have been recorded.</p></dd>


<dt>tz.force</dt>
<dd><p>Logical; if <code>TRUE</code>, the time zone is forced to "UTC" or re-labelled yet not shifted in time. "UTC" is required for internal processing (default = <code>FALSE</code>).</p></dd>


<dt>time.format</dt>
<dd><p>Character string, indicates the format of the timestamp.</p></dd>


<dt>solar.time</dt>
<dd><p>Logical; if <code>TRUE</code>, time is converted to solar time,
depending upon the location where the measurements have been taken.
 If <code>FALSE</code>, the output is provided in "UTC" (default = <code>FALSE</code>).</p></dd>


<dt>long.deg</dt>
<dd><p>Numeric, longitude in decimal degrees East to perform the solar time
conversion. Only required when <code>solar.time=TRUE</code>.</p></dd>


<dt>ref.add</dt>
<dd><p>Logical; if <code>TRUE</code>, additional probes provided within data
are considered. The \(\Delta T\) values are then corrected by subtracting
 the \(\Delta T\) measured between the reference probes from the \(\Delta T\)
 measured between the heated and unheated probe (default = <code>FALSE</code>).</p></dd>


<dt>df</dt>
<dd><p>Logical; if <code>TRUE</code>, output is provided in a <code>data.frame</code> format with
a timestamp and a value (\(\Delta T\) or \(\Delta V\)) column.
If <code>FALSE</code>, output is provided as a <code>zoo</code> object (default = <code>FALSE</code>).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A zoo object or data.frame in the appropriate format for other functionalities.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>To prevent errors occurring in subsequent <code>TREX</code> functions, it is advised to run this function
 for checking the data structure and preparing it for further analyses. For the specific time zone see
 <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" class="external-link">https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a> or for formatting see <code><a href="https://rdrr.io/r/base/timezones.html" class="external-link">OlsonNames</a>()</code>.
 The format of the timestamp has to be provided according to <a href="https://www.stat.berkeley.edu/~s133/dates.html" class="external-link">https://www.stat.berkeley.edu/~s133/dates.html</a>.
 For the method behind the solar time conversion, see the solar package (<a href="https://CRAN.R-project.org/package=solaR" class="external-link">https://CRAN.R-project.org/package=solaR</a>).
 The longitude has to be provided in positive decimal degrees for study sites East from the Greenwich meridian and negative for sites to the West.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#validating and structuring example data</span></span></span>
<span class="r-in"><span><span class="va">raw</span>   <span class="op">&lt;-</span> <span class="fu"><a href="example.data.html">example.data</a></span><span class="op">(</span>type<span class="op">=</span><span class="st">"doy"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu">is.trex</span><span class="op">(</span><span class="va">raw</span>,tz<span class="op">=</span><span class="st">"GMT"</span>,time.format<span class="op">=</span><span class="st">"%H:%M"</span>,</span></span>
<span class="r-in"><span>    solar.time<span class="op">=</span><span class="cn">TRUE</span>,long.deg<span class="op">=</span><span class="fl">7.7459</span>,</span></span>
<span class="r-in"><span>    ref.add<span class="op">=</span><span class="cn">FALSE</span>,df<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">raw</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">input</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">input</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">input</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Richard Peters, Christoforos Pappas, Alexander Hurley, Kathy Steppe.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

